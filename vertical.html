<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Knockout Lazy List</title>
    <script src="jquery-1.11.1.js"></script>
    <script src="knockout-3.1.0.debug.js"></script>
    <script src="knockout-postbox.js"></script>
    <script src="knockout-lazy.list.js"></script>
    <link rel="stylesheet" href="style.css" />
    <script>
        /* NOTE: Example */
        var f = [
            {
                "name": "ID",
                "actions": [
                    {
                        "type": "freeTextFilter",
                        "propertyName": "id"
                    },{
                        "type": "alphabeticalAscendingSort",
                        "propertyName": "id"
                    },{
                        "type": "alphabeticalDescendingSort",
                        "propertyName": "id"
                    }
                ]
            }, {
                "name": "Gender",
                "actions": [
                    {
                        "type": "fixedFilter",
                        "propertyName": "gender",
                        "propertyValue": "female",
                        "displayName": "Female"
                    },{
                        "type": "fixedFilter",
                        "propertyName": "gender",
                        "propertyValue": "male",
                        "displayName": "Male"
                    }
                ]
            }, {
                "name": "Eye Color",
                "actions": [
                    {
                        "type": "fixedFilter",
                        "propertyName": "eyeColor",
                        "propertyValue": "green",
                        "displayName": "Green"
                    },{
                        "type": "fixedFilter",
                        "propertyName": "eyeColor",
                        "propertyValue": "blue",
                        "displayName": "Blue"
                    },{
                        "type": "fixedFilter",
                        "propertyName": "eyeColor",
                        "propertyValue": "brown",
                        "displayName": "Brown"
                    }
                ]
            }
        ];
    </script>
</head>
<body>
<div data-lazy-list-control-panel='{"filterTopic": "LLFT", "comparatorTopic":"LLCT", "controls": [{"name":"ID","actions":[{"type":"freeTextFilter","propertyName":"id"},{"type":"alphabeticalAscendingSort","propertyName":"id"},{"type":"alphabeticalDescendingSort","propertyName":"id"}]},{"name":"Gender","actions":[{"type":"fixedFilter","propertyName":"gender","propertyValue":"female","displayName":"Female"},{"type":"fixedFilter","propertyName":"gender","propertyValue":"male","displayName":"Male"}]},{"name":"Eye Color","actions":[{"type":"fixedFilter","propertyName":"eyeColor","propertyValue":"green","displayName":"Green"},{"type":"fixedFilter","propertyName":"eyeColor","propertyValue":"blue","displayName":"Blue"},{"type":"fixedFilter","propertyName":"eyeColor","propertyValue":"brown","displayName":"Brown"}]}] }'>
    <ul data-bind="foreach: panels">
        <li>
            <h3 data-bind="text: name"></h3>
            <ul data-bind="foreach: actions">
                <li data-bind="template: { name: type + '_tmpl' }"></li>
            </ul>
        </li>
    </ul>
</div>
<div data-lazy-list-vertical='{ "endpoint": "1k.json", "pageSize": 15 }'>
    <div>
        Showing <span data-bind="text: visible().length"></span> of <span data-bind="text: processed().length"></span>, total: <span data-bind="text: data().length"></span>
    </div>
    <div class="lazy-wrapper">
        <table class="lazy">
            <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Gender</th>
                <th>Eye Color</th>
            </tr>
            </thead>
            <tbody data-bind="foreach: visible, scroll: onWheel">
            <tr>
                <td data-bind="text: id"></td>
                <td data-bind="text: name"></td>
                <td data-bind="text: gender"></td>
                <td data-bind="text: eyeColor"></td>
            </tr>
            </tbody>
        </table>
        <div class="track">
            <div class="track-inner">
                <div class="track-scrubber" data-bind="lazyScrubberVertical: { percentage: percentage, on: on(), max: max() }">
                    <span class="text">Scrubber</span>
                </div>
            </div>
        </div>
    </div>
</div>
<script id="freeTextFilter_tmpl" type="text/html">
    <input type="text" data-bind="value: filter, valueUpdate: 'keyup'" />
</script>
<script id="alphabeticalAscendingSort_tmpl" type="text/html">
    <button type="button" data-bind="click: $root.comparatorHandler">Ascending</button>
</script>
<script id="alphabeticalDescendingSort_tmpl" type="text/html">
    <button type="button" data-bind="click: $root.comparatorHandler">Descending</button>
</script>
<script id="fixedFilter_tmpl" type="text/html">
    <label>
        <input type="checkbox" data-bind="checked: active" />
        <span data-bind="text: displayName"></span>
    </label>
</script>
</body>
</html>